# Data Residency Regional Configuration
# This file contains environment variables for multi-region deployments

# ============================================================================
# EU Region - Frankfurt (GDPR Compliant)
# ============================================================================

# Stellar Horizon endpoint for EU
STELLAR_HORIZON_EU_URL=https://horizon.eu.stellar.org

# IPFS nodes for EU (comma-separated)
IPFS_NODES_EU=https://ipfs-eu-1.infura.io:5001,https://ipfs-eu-2.infura.io:5001

# PostgreSQL configuration for EU
DB_HOST_EU=postgres-eu.internal.example.com
DB_PORT_EU=5432
DB_NAME_EU=healthy_stellar_eu
DB_USER_EU=postgres
# DB_PASSWORD is inherited from global DB_PASSWORD variable


# ============================================================================
# US Region - N. Virginia (HIPAA Compliant)
# ============================================================================

# Stellar Horizon endpoint for US
STELLAR_HORIZON_US_URL=https://horizon.us.stellar.org

# IPFS nodes for US (comma-separated)
IPFS_NODES_US=https://ipfs-us-1.infura.io:5001,https://ipfs-us-2.infura.io:5001

# PostgreSQL configuration for US
DB_HOST_US=postgres-us.internal.example.com
DB_PORT_US=5432
DB_NAME_US=healthy_stellar_us
DB_USER_US=postgres
# DB_PASSWORD is inherited from global DB_PASSWORD variable


# ============================================================================
# APAC Region - Singapore (PDPA Compliant)
# ============================================================================

# Stellar Horizon endpoint for APAC
STELLAR_HORIZON_APAC_URL=https://horizon.apac.stellar.org

# IPFS nodes for APAC (comma-separated)
IPFS_NODES_APAC=https://ipfs-apac-1.infura.io:5001,https://ipfs-apac-2.infura.io:5001

# PostgreSQL configuration for APAC
DB_HOST_APAC=postgres-apac.internal.example.com
DB_PORT_APAC=5432
DB_NAME_APAC=healthy_stellar_apac
DB_USER_APAC=postgres
# DB_PASSWORD is inherited from global DB_PASSWORD variable


# ============================================================================
# AFRICA Region - Cape Town (POPIA Compliant)
# ============================================================================

# Stellar Horizon endpoint for AFRICA
STELLAR_HORIZON_AFRICA_URL=https://horizon.africa.stellar.org

# IPFS nodes for AFRICA (comma-separated)
IPFS_NODES_AFRICA=https://ipfs-africa-1.infura.io:5001,https://ipfs-africa-2.infura.io:5001

# PostgreSQL configuration for AFRICA
DB_HOST_AFRICA=postgres-africa.internal.example.com
DB_PORT_AFRICA=5432
DB_NAME_AFRICA=healthy_stellar_africa
DB_USER_AFRICA=postgres
# DB_PASSWORD is inherited from global DB_PASSWORD variable


# ============================================================================
# Data Residency Configuration
# ============================================================================

# Enable data residency enforcement globally
DATA_RESIDENCY_ENABLED=true

# Default region for new tenants (EU, US, APAC, AFRICA)
DEFAULT_TENANT_REGION=EU

# Strict data residency mode (blocks cross-region requests)
STRICT_DATA_RESIDENCY=false

# Enable IP-based access control per region
ENFORCE_IP_RESTRICTIONS=false


# ============================================================================
# Regional Health Check Configuration
# ============================================================================

# Health check interval (milliseconds)
HEALTH_CHECK_INTERVAL=60000

# IPFS node health check timeout (milliseconds)
IPFS_HEALTH_CHECK_TIMEOUT=5000

# Horizon endpoint health check timeout (milliseconds)
HORIZON_HEALTH_CHECK_TIMEOUT=5000

# Database health check timeout (milliseconds)
DATABASE_HEALTH_CHECK_TIMEOUT=10000


# ============================================================================
# Regional Monitoring and Logging
# ============================================================================

# Enable region-specific logging
LOG_REGIONAL_OPERATIONS=true

# Log data residency violations
LOG_RESIDENCY_VIOLATIONS=true

# Disable sensitive data in logs (IP addresses, etc.)
MASK_SENSITIVE_LOG_DATA=true


# ============================================================================
# AWS Configuration (for regional AWS resources)
# ============================================================================

# AWS credentials (used for all regions)
AWS_ACCESS_KEY_ID=your_access_key_id
AWS_SECRET_ACCESS_KEY=your_secret_access_key

# AWS regions (managed by data-residency service)
# - EU region: eu-west-1
# - US region: us-east-1
# - APAC region: ap-southeast-1
# - AFRICA region: af-south-1


# ============================================================================
# Backup and Disaster Recovery
# ============================================================================

# Enable automatic backups per region
REGIONAL_BACKUP_ENABLED=true

# Backup retention days (per region)
BACKUP_RETENTION_DAYS=30

# Enable cross-region backup replication (within region only)
CROSS_BACKUP_REPLICATION_ENABLED=false

# Disaster recovery RTO (Recovery Time Objective) minutes per region
DR_RTO_MINUTES=15

# Disaster recovery RPO (Recovery Point Objective) minutes per region
DR_RPO_MINUTES=5


# ============================================================================
# Compliance and Audit
# ============================================================================

# Enable audit logging for all regional operations
AUDIT_LOGGING_ENABLED=true

# Audit log retention days
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for compliance

# Enable GDPR data deletion tracking
GDPR_DELETION_TRACKING=true

# Enable HIPAA breach notification procedures
HIPAA_BREACH_NOTIFICATION=true


# ============================================================================
# Regional TLS/SSL Configuration
# ============================================================================

# Enable TLS certificate pinning (per region)
ENABLE_CERTIFICATE_PINNING=true

# TLS version minimum (1.2, 1.3)
TLS_MIN_VERSION=1.3


# ============================================================================
# Performance and Optimization
# ============================================================================

# Regional database connection pool size
DB_POOL_SIZE=10

# Regional database connection pool max overflow
DB_POOL_MAX_OVERFLOW=5

# Cache TTL for regional tenant configuration (seconds)
TENANT_CONFIG_CACHE_TTL=3600

# Cache TTL for regional health checks (seconds)
HEALTH_CHECK_CACHE_TTL=30


# ============================================================================
# Regional IPFS Configuration
# ============================================================================

# IPFS gateway timeout (milliseconds)
IPFS_GATEWAY_TIMEOUT=30000

# IPFS node rotation enabled
IPFS_NODE_ROTATION_ENABLED=true

# IPFS node rotation threshold (failed requests before rotation)
IPFS_ROTATION_THRESHOLD=3


# ============================================================================
# Regional Stellar Configuration
# ============================================================================

# Stellar network passphrase (Test or Public)
STELLAR_NETWORK_PASSPHRASE=Test SDF Network ; September 2015

# Enable Stellar transaction logging
STELLAR_TRANSACTION_LOGGING=true

# Stellar transaction timeout (seconds)
STELLAR_TRANSACTION_TIMEOUT=30


# ============================================================================
# Notes for Deployment
# ============================================================================

# 1. All passwords should be provided via secrets manager or environment at runtime
#    DO NOT commit actual passwords to version control
#
# 2. Regional endpoints must be configured before application startup
#    Missing region configuration will cause graceful degradation or failures
#
# 3. Database credentials can be the same across regions if using region-specific
#    hostnames (recommended approach)
#
# 4. IPFS nodes should be deployed in their respective regions for best performance
#    Infura IPFS examples above are for demonstration purposes
#
# 5. Stellar Horizon endpoints can be self-hosted or use public endpoints
#    Multiple endpoint URLs can be specified (comma-separated) for failover
#
# 6. Ensure all regional infrastructure is deployed and tested before
#    enabling strict data residency mode
#
# 7. SSL/TLS certificates for regional endpoints should be valid and updated
#    regularly to prevent service disruptions
#
# 8. Regular backup and disaster recovery testing is recommended (quarterly minimum)
